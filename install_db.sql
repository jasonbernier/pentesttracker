CREATE TABLE Users (
            user_id INT NOT NULL AUTO_INCREMENT PRIMARY KEY,
            username VARCHAR(255) NOT NULL,
            password VARCHAR(255) NOT NULL,
            role VARCHAR(50) NOT NULL,
            UNIQUE KEY (username)
        ) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_general_ci;
CREATE TABLE Projects (
            project_id INT NOT NULL AUTO_INCREMENT PRIMARY KEY,
            project_name VARCHAR(255) NOT NULL,
            user_id INT DEFAULT NULL,
            creation_date TIMESTAMP DEFAULT CURRENT_TIMESTAMP
        ) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE utf8mb4_general_ci;
CREATE TABLE Tasks (
            task_id INT NOT NULL AUTO_INCREMENT PRIMARY KEY,
            project_id INT DEFAULT NULL,
            task_name VARCHAR(255) DEFAULT NULL,
            description TEXT,
            user_id INT DEFAULT NULL,
            status VARCHAR(50) DEFAULT 'pending',
            creation_date TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
            deadline DATE DEFAULT NULL,
            comments TEXT,
            CONSTRAINT Tasks_ibfk_1 FOREIGN KEY (user_id) REFERENCES Users (user_id) ON DELETE SET NULL,
            CONSTRAINT Tasks_ibfk_2 FOREIGN KEY (project_id) REFERENCES Projects (project_id) ON DELETE CASCADE
        ) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_general_ci;
CREATE TABLE Comments (
            comment_id INT NOT NULL AUTO_INCREMENT PRIMARY KEY,
            task_id INT NOT NULL,
            user_id INT NOT NULL,
            comment TEXT NOT NULL,
            comment_date TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
            CONSTRAINT Comments_ibfk_1 FOREIGN KEY (task_id) REFERENCES Tasks (task_id),
            CONSTRAINT Comments_ibfk_2 FOREIGN KEY (user_id) REFERENCES Users (user_id)
        ) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_general_ci;
CREATE TABLE User_Tasks (
            user_id INT DEFAULT NULL,
            task_id INT DEFAULT NULL,
            date_assigned DATETIME DEFAULT NULL,
            status VARCHAR(50) DEFAULT NULL,
            CONSTRAINT User_Tasks_ibfk_1 FOREIGN KEY (user_id) REFERENCES Users (user_id),
            CONSTRAINT User_Tasks_ibfk_2 FOREIGN KEY (task_id) REFERENCES Tasks (task_id)
        ) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_general_ci;